set.seed(1)
rpois(5, 2)
pal <- colorRamp(c("red", "blue"))
pal
pal(0)
pal(.5)
pal(seq(0, 1, len = 10))
pal <- colorRampPalette(c("red", "yellow"))
pal(2)
pal(10)
library(RColorBrewer)
cols <- brewer.pal(3, "BuGn")
install.packages("RColorBrewer")
library(RColorBrewer)
cols <- brewer.pal(3, "BuGn")
pal(1)
pal <- colorRampPalette(cols)
image(volcano, col = pal(20))
image(volcano, col = pal(20))
smoothScatter(x, y)
x<- rnorm(10000)
y <- rnorm(10000)
smoothScatter(x, y)
plot(x,y, col = rgb(0,0,0,0.2), pch=19)
pal <- colorRampPalette(c("red", "yellow"))
pal
str(pal)
outcome <- "heart failure"
num <- 4
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
f <- suppressWarnings(as.factor(data[,7]))
getwd()
setwd(/Users/shea/Dropbox/R.Learning)
setwd("/Users/shea/Dropbox/R.Learning")
getwd()
setwd("/Users/shea/Dropbox/R.Learning/Assignment 2")
getwd()
outcome <- "heart failure"
num <- 4
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
f <- suppressWarnings(as.factor(data[,7]))
success <- FALSE
if ( outcome == "heart attack" ) {
death <- suppressWarnings(as.numeric(data[,11]))
} else if (outcome == "heart failure") {
death <- suppressWarnings(as.numeric(data[,17]))
} else if (outcome == "pneumonia") {
death <- suppressWarnings(as.numeric(data[,23]))
} else {
stop("invalid outcome")
}
temp <- droplevels(na.omit(data.frame(death, ST = c(data[,7]), name = c(data[,2]))), reorder = TRUE)
temp <- droplevels(na.omit(data.frame(death, ST = c(data[,7]), name = c(data[,2]))), reorder = TRUE)
head(temp)
valid.state.names <- names(table(temp$ST))
levels(temp$ST)
states <- as.vector("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA",
"GU", "HI", "IA", "ID", "IL", "IN", "KS", "KY", "LA", "MA", "MD",
"ME", "MI", "MN", "MO", "MS", "MT", "NC", "ND", "NE", "NH", "NJ",
"NM", "NV", "NY", "OH", "OK", "OR", "PA", "PR", "RI", "SC", "SD",
"TN", "TX", "UT", "VA", "VI", "VT", "WA", "WI", "WV", "WY")
states <- as.list("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA",
"GU", "HI", "IA", "ID", "IL", "IN", "KS", "KY", "LA", "MA", "MD",
"ME", "MI", "MN", "MO", "MS", "MT", "NC", "ND", "NE", "NH", "NJ",
"NM", "NV", "NY", "OH", "OK", "OR", "PA", "PR", "RI", "SC", "SD",
"TN", "TX", "UT", "VA", "VI", "VT", "WA", "WI", "WV", "WY")
states[2]
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA",
"GU", "HI", "IA", "ID", "IL", "IN", "KS", "KY", "LA", "MA", "MD",
"ME", "MI", "MN", "MO", "MS", "MT", "NC", "ND", "NE", "NH", "NJ",
"NM", "NV", "NY", "OH", "OK", "OR", "PA", "PR", "RI", "SC", "SD",
"TN", "TX", "UT", "VA", "VI", "VT", "WA", "WI", "WV", "WY"))
states[2]
source("rankhospital.R")
source("rankhospital.R")
num <- 4
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
f <- suppressWarnings(as.factor(data[,7]))
success <- FALSE
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA",
"GU", "HI", "IA", "ID", "IL", "IN", "KS", "KY", "LA", "MA", "MD",
"ME", "MI", "MN", "MO", "MS", "MT", "NC", "ND", "NE", "NH", "NJ",
"NM", "NV", "NY", "OH", "OK", "OR", "PA", "PR", "RI", "SC", "SD",
"TN", "TX", "UT", "VA", "VI", "VT", "WA", "WI", "WV", "WY"))
states[2]
if ( outcome == "heart attack" ) {
death <- suppressWarnings(as.numeric(data[,11]))
} else if (outcome == "heart failure") {
death <- suppressWarnings(as.numeric(data[,17]))
} else if (outcome == "pneumonia") {
death <- suppressWarnings(as.numeric(data[,23]))
} else {
stop("invalid outcome")
}
if ( num == "best") {
num = 1
} else if ( num == "worst" ) {
num = length(new$name)
} else if ( num >= length(new$name) ) {
return("NA")
}
answer <- as.character(new$name[num])
for ( s in states ) {
print(s)
rankhospitals(s, outcome, num)
}
for ( s in states ) {
print(s)
print(rankhospitals(s, outcome, num))
}
print(rankhospital(s, outcome, num))
for ( s in states ) {
print(s)
print(rankhospital(s, outcome, num))
}
source("rankhospitals.R")
source("rankhospital.R")
rankhospital("GU", "heart attack", 2)
source("rankhospital.R")
rankhospital("GU", "heart attack", 2)
rankhospital("GU", "heart attack", 1)
source("rankhospital.R")
rankhospital("GU", "heart attack", 1)
source("rankhospital.R")
outcome <- "heart failure"
num <- 4
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
f <- suppressWarnings(as.factor(data[,7]))
success <- FALSE
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA",
"GU", "HI", "IA", "ID", "IL", "IN", "KS", "KY", "LA", "MA", "MD",
"ME", "MI", "MN", "MO", "MS", "MT", "NC", "ND", "NE", "NH", "NJ",
"NM", "NV", "NY", "OH", "OK", "OR", "PA", "PR", "RI", "SC", "SD",
"TN", "TX", "UT", "VA", "VI", "VT", "WA", "WI", "WV", "WY"))
if ( outcome == "heart attack" ) {
break
} else if (outcome == "heart failure") {
#death <- suppressWarnings(as.numeric(data[,17]))
break
} else if (outcome == "pneumonia") {
#death <- suppressWarnings(as.numeric(data[,23]))
break
} else {
stop("invalid outcome")
}
for ( s in states ) {
print(s)
print(rankhospital(s, outcome, num))
}
answer <- data.frame(hospital, state)
answer <- data.frame("hospital", "state")
answer <- data.frame(row.names(c("hospital", "state")
print(answer)
answer <- data.frame(row.names(c("hospital", "state")))
print(answer)
names(answer)
answer <- data.frame(row.names(c("hospital", "state")))
for ( s in states ) {
rbind(hospital = rankhospital(s, outcome, num), state = s, answer)
}
answer
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA",))
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA"))
if ( outcome == "heart attack" ) {
break
} else if (outcome == "heart failure") {
#death <- suppressWarnings(as.numeric(data[,17]))
break
} else if (outcome == "pneumonia") {
#death <- suppressWarnings(as.numeric(data[,23]))
break
} else {
stop("invalid outcome")
}
answer <- data.frame(row.names(c("hospital", "state")))
dd <- 10
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=0)# middle 2 rownames
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=1)# 3 rownames (default)
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=2)# 4 rownames
dd <- 10
dd
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=0)# middle 2 rownames
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=1)# 3 rownames (default)
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=2)# 4 rownames
answer <- data.frame()
answer
for ( s in states ) {
rbind("hospital" = rankhospital(s, outcome, num), "state" = s, answer)
}
answer
answer
for ( s in states ) {
rbind("hospital" = rankhospital(s, outcome, num), "state" = s, answer, deparse.level=0)
}
answer
answer <- data.frame()
for ( s in states ) {
rbind("hospital" = 1:4, "a++" = 10, answer, deparse.level=0)# middle 2 rownames
}
answer <- data.frame()
for ( s in states ) {
rbind("hospital" = 1:4, "a++" = 10, answer, deparse.level=0)# middle 2 rownames
}
answer <- data.frame()
rbind("hospital" = 1:4, "a++" = 10, answer, deparse.level=0)# middle 2 rownames
answer <- data.frame()
rbind("hospital" = rankhospital("TX", outcome, 2), "state" = 10, answer, deparse.level=0)# middle 2 rownames
answer
answer <- data.frame()
temp <- rankhospital("TX", outcome, 2)
temp
rbind("hospital" = temp, "state" = 10, answer, deparse.level=0)# middle 2 rownames
answer
rbind("hospital" = 2, "state" = 10, answer, deparse.level=0)# middle 2 rownames
answer
answer
rbind("a" = 2, "state" = 10, answer, deparse.level=0)# middle 2 rownames
answer <- rbind("a" = 2, "state" = 10, answer, deparse.level=0)# middle 2 rownames
answer
answer <- data.frame()
for ( s in states ) {
answer <- rbind("hospital" = rankhospital(s, outcome, num), "state" = s, answer, deparse.level=0)
}
answer
answer <- names(c("hospital", "state"))
answer
names(answer)
x <- 1:3
names(x)
names(x) <- c("foo", "bar", "norf")
names(x)
names(answer) <- c("hospital", "state")
names(answer)
answer <- data.frame()
names(answer) <- c("hospital", "state")
names(answer)
answer <- data.frame()
names(answer) <- c("hospital", "state")
answer <- data.frame()
for ( s in states ) {
answer <- rbind(rankhospital(s, outcome, num), s, answer, deparse.level=0)
}
answer
names(answer) <- c("hospital", "state")
answer <- data.frame()
for ( s in states ) {
answer <- rbind(rankhospital(s, outcome, num), s, deparse.level=0)
}
answer
answer <- data.frame()
for ( s in states ) {
answer <- rbind(rankhospital(s, outcome, num), s, answer)
}
answer <- rbind(rankhospital(s, outcome, num), s)
answer
answer <- data.frame()
for ( s in states ) {
answer <- rbind(rankhospital(s, outcome, num), s)
}
answer
answer <- data.frame(x,y)
answer <- data.frame("hospital","state")
answer
source("rankhospital.R")
outcome <- "heart failure"
num <- 4
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
f <- suppressWarnings(as.factor(data[,7]))
success <- FALSE
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA"))
if ( outcome == "heart attack" ) {
break
} else if (outcome == "heart failure") {
#death <- suppressWarnings(as.numeric(data[,17]))
break
} else if (outcome == "pneumonia") {
#death <- suppressWarnings(as.numeric(data[,23]))
break
} else {
stop("invalid outcome")
}
answer <- data.frame("hospital","state")
for ( s in states ) {
answer <- rbind(rankhospital(s, outcome, num), s)
}
answer
dd <- 10
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=0)# middle 2 rownames
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=1)# 3 rownames (default)
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=2)# 4 rownames
answer <- data.frame("hospital","state")
for ( s in states ) {
temp <- rankhospital(s, outcome, num)
answer <- rbind("hospital" = temp, "state" = s, answer, deparse.level=2)
}
answer
temp
dd <- 10
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=0)# middle 2 rownames
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=1)# 3 rownames (default)
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=2)# 4 rownames
answer
states <- as.list(c("AK"))
answer <- data.frame("hospital","state")
for ( s in states ) {
temp <- rankhospital(s, outcome, num)
temp
answer <- rbind("hospital" = temp, "state" = s, answer, deparse.level=2)
}
temp
answer
answer <- cbind("hospital" = temp, "state" = s, answer, deparse.level=2)
answer
answer <- data.frame("hospital","state")
temp
answer <- cbind("hospital" = temp, "state" = s, answer, deparse.level=2)
answer
answer <- data.frame()
temp
answer <- cbind("hospital" = temp, "state" = s, answer, deparse.level=2)
answer
answer <- data.frame("hospital" = NA, "state" = NA)
answer
answer <- cbind("hospital" = temp, "state" = s, answer, deparse.level=2)
answer
answer <- cbind("hospital" = temp, "state" = s, answer, deparse.level=1)
answer
answer <- data.frame("hospital" = NA, "state" = NA)
answer <- cbind("hospital" = temp, "state" = s, answer, deparse.level=1)
answer
answer <- data.frame("hospital" = NA, "state" = NA)
answer <- rbind("hospital" = temp, "state" = s, answer, deparse.level=1)
answer
answer <- data.frame("hospital" = NA, "state" = NA)
answer <- rbind("hospital" = temp, "state" = s, answer, deparse.level=0)
answer
answer <- data.frame("hospital" = NA, "state" = NA)
answer
answer <- rbind("hospital" = temp, "state" = s, answer, deparse.level=0)
answer
answer
answer <- data.frame("hospital" = NA, "state" = NA)
temp
answer <- rbind("hospital" = temp, "state" = s, deparse.level=0)
answer
answer[1,]
answer[,1]
answer[,2]
answer <- data.frame("hospital" = NA, "state" = NA)
answer <- rbind("hospital"=temp, "state"=s)
answer[1,]
answer[,1]
answer[,2]
answer[,1]
answer <- matrix("hospital" = NA, "state" = NA)
answer <- rbind("hospital"=temp, "state"=s)
answer[1,]
answer[,1]
answer[,2]
answer <- matrix("hospital" = NA, "state" = NA)
answer[1,]
answer <- matrix("hospital" = NA, "state" = NA)
answer <- matrix(c("hospital" = NA, "state" = NA), nrow=1, ncol=2)
answer
answer <- rbind("hospital"=temp, "state"=s)
answer
answer <- matrix(c(NA,NA), nrow=1, ncol=2)
answer
names(answer) <- c("hospital", "state")
answer
names(answer)
answer <- rbind("hospital"=temp, "state"=s)
answer
answer <- matrix(c(NA,NA), nrow=1, ncol=2)
answer <- rbind("hospital"=temp, "state"=s, answer)
answer
dd <- 10
rbind(1:6, c=2, "a++" = 10, dd, deparse.level=0)# middle 2 rownames
rbind(1:4, c=2, "a++" = 10, dd, deparse.level=1)# 3 rownames (default)
names(dd) <- c("a", "b", "c", "d")
data <- matrix(c(NA, NA, NA), nrow = 1, ncol = 3)
data
rbind(1:3, c=2, "a++" = 10, dd, deparse.level=0)# middle 2 rownames
rbind(1:3, c=2, "a++" = 10, deparse.level=0)# middle 2 rownames
rbind(data, 1:3, c=2, "a++" = 10, deparse.level=0)# middle 2 rownames
rbind(data, 1,2,3, deparse.level=0)# middle 2 rownames
rbind(data, c(1,2,3), deparse.level=0)# middle 2 rownames
answer <- matrix(c(NA,NA), nrow=1, ncol=2)
temp
answer <- rbind(answer, c("hospital"=temp, "state"=s))
answer
answer <- rbind(answer, c("hospital"=temp, "state"=s), deparse.level=1)
answer
answer <- rbind(answer, s=c("hospital"=temp, "state"=s), deparse.level=1)
answer
for ( s in states ) {
answer <- rbind(answer, s = c("hospital"=temp, "state"=s), deparse.level=1)
}
answer
answer <- rbind(answer, s = c("hospital"=temp, "state"=s), deparse.level=2)
answer
answer <- rbind(answer, s = c("hospital"=temp, "state"=s), deparse.level=0)
answer
answer <- matrix(c(NA,NA), nrow=1, ncol=2)
answer <- matrix(nrow=1, ncol=2)
answer
answer <- rbind(answer, s = c("hospital"=temp, "state"=s), deparse.level=0)
answer
state <- s
answer <- rbind(answer, state = c("hospital"=temp, "state"=s), deparse.level=0)
answer
answer <- matrix(nrow=1, ncol=2)
answer <- rbind(answer, c("hospital"=rankhospital(s, outcome, num), "state"=s), deparse.level=0)
answer
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA"))
answer <- matrix(nrow=1, ncol=2)
for ( s in states ) {
temp <- rankhospital(s, outcome, num)
answer <- matrix(nrow=1, ncol=2)
for ( s in states ) {
answer <- rbind(answer, c("hospital"=rankhospital(s, outcome, num), "state"=s), deparse.level=0)
}
answer
}
answer <- matrix(nrow=1, ncol=2)
for ( s in states ) {
answer <- rbind(answer, c("hospital"=rankhospital(s, outcome, num), "state"=s), deparse.level=0)
}
answer
answer <- matrix(nrow=1, ncol=2)
for ( s in states ) {
answer <- rbind(answer, c("hospital"=rankhospital(s, outcome, num), "state"=s), deparse.level=0)
}
answer
source("rankall.R")
rankall("heart attack", 1)
source("rankall.R")
rankall("heart attack", 1)
source("rankall.R")
rankall("heart attack", 1)
source("rankall.R")
rankall("heart attack", 1)
source("rankall.R")
rankall("heart attack", 1)
source("rankall.R")
rankall("heart attack", 1)
source("rankall.R")
rankall("heart attack", 1)
source("rankall.R")
rankall("heart attack", 1)
theanswer <- na.omit(answer)
source("rankall.R")
rankall("heart attack", 1)
source("rankhospital.R")
outcome <- "heart failure"
num <- 4
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
f <- suppressWarnings(as.factor(data[,7]))
success <- FALSE
states <- as.list(c("AK", "AL", "AR", "AZ", "CA", "CO", "CT", "DC", "DE", "FL", "GA"))
if ( outcome == "heart attack" ) {
ok <- 1
} else if (outcome == "heart failure") {
#death <- suppressWarnings(as.numeric(data[,17]))
ok <- 1
} else if (outcome == "pneumonia") {
#death <- suppressWarnings(as.numeric(data[,23]))
ok <- 1
} else {
stop("invalid outcome")
}
answer <- matrix(nrow=1, ncol=2)
for ( s in states ) {
answer <- rbind(answer, c("hospital"=rankhospital(s, outcome, num), "state"=s), deparse.level=0)
}
theanswer <- na.omit(answer)
return(theanswer)
theanswer
theanswer <- complete.cases(answer)
theanswer
answer[theanswer]
final <- droplevels(na.omit(data.frame(answer), reorder = TRUE)
final <- droplevels(na.omit(data.frame(answer), reorder = TRUE))
final <- droplevels(na.omit(data.frame(answer), reorder = TRUE))
final
final <- droplevels(na.omit(data.frame(answer))reorder = TRUE)
final <- droplevels(na.omit(data.frame(answer))reorder = TRUE)
final <- droplevels(na.omit(data.frame(answer)),reorder = TRUE)
final
theanswer <- complete.cases(answer)
answer[theanswer]
return(theanswer)
theanswer <- complete.cases(final)
answer[theanswer]
answer <- matrix(nrow=1, ncol=2)
for ( s in states ) {
answer <- rbind(answer, c("hospital"=rankhospital(s, outcome, num), "state"=s), deparse.level=0)
}
theanswer <- complete.cases(answer)
answer[theanswer]
theanswer
final <- droplevels(na.omit(data.frame(answer)),reorder = TRUE)
final
return(final)
source("rankall.R")
rankall("heart attack", 1)
new <- data.frame(c(final$hospital, final$state))
new
new <- data.frame(final)
new
new <- data.frame(final)
new
